# NERDX APEC MVP - ÏãúÏä§ÌÖú ÏïÑÌÇ§ÌÖçÏ≤ò (ÏÉÅÏÑ∏Î≥∏)

> **ÏµúÏ¢Ö ÏóÖÎç∞Ïù¥Ìä∏**: 2025-10-27
> **Î≤ÑÏ†Ñ**: 1.0
> **ÎåÄÏÉÅ ÎèÖÏûê**: Í∞úÎ∞úÏûê, ÏãúÏä§ÌÖú ÏïÑÌÇ§ÌÖçÌä∏, DevOps ÏóîÏßÄÎãàÏñ¥

---

## Î™©Ï∞®
1. [ÏãúÏä§ÌÖú Í∞úÏöî](#ÏãúÏä§ÌÖú-Í∞úÏöî)
2. [ÏÑúÎπÑÏä§Î≥Ñ ÏÉÅÏÑ∏ ÏÑ§Í≥Ñ](#ÏÑúÎπÑÏä§Î≥Ñ-ÏÉÅÏÑ∏-ÏÑ§Í≥Ñ)
3. [Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ ÏÑ§Í≥Ñ](#Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§-ÏÑ§Í≥Ñ)
4. [API Î™ÖÏÑ∏](#api-Î™ÖÏÑ∏)
5. [Î∞∞Ìè¨ ÏïÑÌÇ§ÌÖçÏ≤ò](#Î∞∞Ìè¨-ÏïÑÌÇ§ÌÖçÏ≤ò)
6. [Î≥¥Ïïà ÏÑ§Í≥Ñ](#Î≥¥Ïïà-ÏÑ§Í≥Ñ)
7. [ÏÑ±Îä• ÏµúÏ†ÅÌôî](#ÏÑ±Îä•-ÏµúÏ†ÅÌôî)
8. [Î™®ÎãàÌÑ∞ÎßÅ & Î°úÍπÖ](#Î™®ÎãàÌÑ∞ÎßÅ--Î°úÍπÖ)

---

## ÏãúÏä§ÌÖú Í∞úÏöî

### Ï†ÑÏ≤¥ Íµ¨ÏÑ±ÎèÑ

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                         ÏÇ¨Ïö©Ïûê Î†àÏù¥Ïñ¥                              ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  üë• Í≥†Í∞ù          üë®‚Äçüíº ÏòÅÏóÖÌåÄ        üë®‚Äçüíª Í¥ÄÎ¶¨Ïûê      ü§ñ ÏûêÎèôÌôî      ‚îÇ
‚îÇ  (Web/Mobile)    (CRM)           (Dashboard)   (GitHub Actions) ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ                ‚îÇ               ‚îÇ              ‚îÇ
       ‚ñº                ‚ñº               ‚ñº              ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                        ÌîÑÎ†àÏ††ÌÖåÏù¥ÏÖò Î†àÏù¥Ïñ¥                         ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Next.js 14    ‚îÇ  ‚îÇ Shopify        ‚îÇ  ‚îÇ API Documentation‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Frontend)    ‚îÇ  ‚îÇ (Storefront)   ‚îÇ  ‚îÇ (Swagger/ReDoc)  ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  Port: 3000    ‚îÇ  ‚îÇ                ‚îÇ  ‚îÇ  /docs           ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ           ‚îÇ                   ‚îÇ                      ‚îÇ          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
            ‚îÇ                   ‚îÇ                      ‚îÇ
            ‚ñº                   ‚ñº                      ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                         ÎπÑÏ¶àÎãàÏä§ Î°úÏßÅ Î†àÏù¥Ïñ¥                       ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ              FastAPI Services (Python 3.11+)               ‚îÇ ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§ ‚îÇ
‚îÇ  ‚îÇ                                                            ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  1. Independent Accounting System (Port 8003)             ‚îÇ ‚îÇ
‚îÇ  ‚îÇ     ‚îú‚îÄ‚îÄ routers/                                          ‚îÇ ‚îÇ
‚îÇ  ‚îÇ     ‚îÇ   ‚îú‚îÄ‚îÄ revenue.py          # Îß§Ï∂ú API                ‚îÇ ‚îÇ
‚îÇ  ‚îÇ     ‚îÇ   ‚îú‚îÄ‚îÄ expense.py          # ÎπÑÏö© API                ‚îÇ ‚îÇ
‚îÇ  ‚îÇ     ‚îÇ   ‚îú‚îÄ‚îÄ reports.py          # Î¶¨Ìè¨Ìä∏ API              ‚îÇ ‚îÇ
‚îÇ  ‚îÇ     ‚îÇ   ‚îî‚îÄ‚îÄ cells.py            # ÏÖÄ Í¥ÄÎ¶¨ API             ‚îÇ ‚îÇ
‚îÇ  ‚îÇ     ‚îú‚îÄ‚îÄ services/                                         ‚îÇ ‚îÇ
‚îÇ  ‚îÇ     ‚îÇ   ‚îú‚îÄ‚îÄ salesforce_service.py                        ‚îÇ ‚îÇ
‚îÇ  ‚îÇ     ‚îÇ   ‚îú‚îÄ‚îÄ odoo_service.py                              ‚îÇ ‚îÇ
‚îÇ  ‚îÇ     ‚îÇ   ‚îú‚îÄ‚îÄ email_service.py    # Resend ÌÜµÌï©            ‚îÇ ‚îÇ
‚îÇ  ‚îÇ     ‚îÇ   ‚îî‚îÄ‚îÄ report_generator.py                          ‚îÇ ‚îÇ
‚îÇ  ‚îÇ     ‚îú‚îÄ‚îÄ models/                                           ‚îÇ ‚îÇ
‚îÇ  ‚îÇ     ‚îÇ   ‚îú‚îÄ‚îÄ cell_models.py      # Cell, Revenue, Expense ‚îÇ ‚îÇ
‚îÇ  ‚îÇ     ‚îÇ   ‚îî‚îÄ‚îÄ report_models.py    # DailyReport            ‚îÇ ‚îÇ
‚îÇ  ‚îÇ     ‚îî‚îÄ‚îÄ database.py             # PostgreSQL Ïó∞Í≤∞         ‚îÇ ‚îÇ
‚îÇ  ‚îÇ                                                            ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  2. Warm Lead Generation (Port 8004)                      ‚îÇ ‚îÇ
‚îÇ  ‚îÇ     ‚îú‚îÄ‚îÄ routers/                                          ‚îÇ ‚îÇ
‚îÇ  ‚îÇ     ‚îÇ   ‚îú‚îÄ‚îÄ lead_scoring.py     # NBRS Ïä§ÏΩîÏñ¥ÎßÅ API       ‚îÇ ‚îÇ
‚îÇ  ‚îÇ     ‚îÇ   ‚îî‚îÄ‚îÄ lead_report.py      # Lead Î¶¨Ìè¨Ìä∏ API         ‚îÇ ‚îÇ
‚îÇ  ‚îÇ     ‚îú‚îÄ‚îÄ services/                                         ‚îÇ ‚îÇ
‚îÇ  ‚îÇ     ‚îÇ   ‚îú‚îÄ‚îÄ nbrs_engine.py      # NBRS Í≥ÑÏÇ∞ ÏóîÏßÑ          ‚îÇ ‚îÇ
‚îÇ  ‚îÇ     ‚îÇ   ‚îú‚îÄ‚îÄ lead_report_service.py                       ‚îÇ ‚îÇ
‚îÇ  ‚îÇ     ‚îÇ   ‚îî‚îÄ‚îÄ salesforce_client.py                         ‚îÇ ‚îÇ
‚îÇ  ‚îÇ     ‚îú‚îÄ‚îÄ integrations/                                     ‚îÇ ‚îÇ
‚îÇ  ‚îÇ     ‚îÇ   ‚îî‚îÄ‚îÄ helios_client.py    # Îç∞Ïù¥ÌÑ∞ enrichment      ‚îÇ ‚îÇ
‚îÇ  ‚îÇ     ‚îî‚îÄ‚îÄ models/                                           ‚îÇ ‚îÇ
‚îÇ  ‚îÇ         ‚îî‚îÄ‚îÄ nbrs_models.py      # NBRSResult, LeadTier   ‚îÇ ‚îÇ
‚îÇ  ‚îÇ                                                            ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  3. Agentic AI System (Port 8002)                         ‚îÇ ‚îÇ
‚îÇ  ‚îÇ     ‚îú‚îÄ‚îÄ routers/                                          ‚îÇ ‚îÇ
‚îÇ  ‚îÇ     ‚îÇ   ‚îú‚îÄ‚îÄ autodev.py          # AutoDev API            ‚îÇ ‚îÇ
‚îÇ  ‚îÇ     ‚îÇ   ‚îú‚îÄ‚îÄ agents.py           # CPG Agents API          ‚îÇ ‚îÇ
‚îÇ  ‚îÇ     ‚îÇ   ‚îî‚îÄ‚îÄ workflows.py        # Workflow API            ‚îÇ ‚îÇ
‚îÇ  ‚îÇ     ‚îú‚îÄ‚îÄ services/                                         ‚îÇ ‚îÇ
‚îÇ  ‚îÇ     ‚îÇ   ‚îú‚îÄ‚îÄ gemini_service.py   # Gemini 2.0 ÌÜµÌï©        ‚îÇ ‚îÇ
‚îÇ  ‚îÇ     ‚îÇ   ‚îú‚îÄ‚îÄ claude_service.py   # Claude Sonnet ÌÜµÌï©     ‚îÇ ‚îÇ
‚îÇ  ‚îÇ     ‚îÇ   ‚îú‚îÄ‚îÄ sora_service.py     # Sora 2 ÌÜµÌï©            ‚îÇ ‚îÇ
‚îÇ  ‚îÇ     ‚îÇ   ‚îî‚îÄ‚îÄ cameo_service.py    # CAMEO ÎπÑÎîîÏò§ ÏÉùÏÑ±      ‚îÇ ‚îÇ
‚îÇ  ‚îÇ     ‚îî‚îÄ‚îÄ agents/                                           ‚îÇ ‚îÇ
‚îÇ  ‚îÇ         ‚îú‚îÄ‚îÄ prd_agent.py        # PRD ÏÉùÏÑ± (Gemini)      ‚îÇ ‚îÇ
‚îÇ  ‚îÇ         ‚îú‚îÄ‚îÄ code_agent.py       # ÏΩîÎìú ÏÉùÏÑ± (Claude)     ‚îÇ ‚îÇ
‚îÇ  ‚îÇ         ‚îú‚îÄ‚îÄ qa_agent.py         # ÏΩîÎìú Î¶¨Î∑∞ (Hybrid)     ‚îÇ ‚îÇ
‚îÇ  ‚îÇ         ‚îî‚îÄ‚îÄ orchestrator.py     # ÏóêÏù¥Ï†ÑÌä∏ Ï°∞Ïú®           ‚îÇ ‚îÇ
‚îÇ  ‚îÇ                                                            ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ           Node.js Services (Express.js)                    ‚îÇ ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§ ‚îÇ
‚îÇ  ‚îÇ                                                            ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  4. Shopify Custom App (Port 3001)                         ‚îÇ ‚îÇ
‚îÇ  ‚îÇ     ‚îú‚îÄ‚îÄ routes/                                            ‚îÇ ‚îÇ
‚îÇ  ‚îÇ     ‚îÇ   ‚îú‚îÄ‚îÄ webhooks.js         # Shopify Webhook Ï≤òÎ¶¨    ‚îÇ ‚îÇ
‚îÇ  ‚îÇ     ‚îÇ   ‚îú‚îÄ‚îÄ ar-access.js        # AR ÏΩòÌÖêÏ∏† Ïï°ÏÑ∏Ïä§        ‚îÇ ‚îÇ
‚îÇ  ‚îÇ     ‚îÇ   ‚îî‚îÄ‚îÄ orders.js           # Ï£ºÎ¨∏ Í¥ÄÎ¶¨               ‚îÇ ‚îÇ
‚îÇ  ‚îÇ     ‚îú‚îÄ‚îÄ services/                                          ‚îÇ ‚îÇ
‚îÇ  ‚îÇ     ‚îÇ   ‚îú‚îÄ‚îÄ neo4j.js            # Neo4j Ïó∞Í≤∞              ‚îÇ ‚îÇ
‚îÇ  ‚îÇ     ‚îÇ   ‚îú‚îÄ‚îÄ redis.js            # Redis Ï∫êÏãú              ‚îÇ ‚îÇ
‚îÇ  ‚îÇ     ‚îÇ   ‚îî‚îÄ‚îÄ jwt.js              # JWT ÌÜ†ÌÅ∞ ÏÉùÏÑ±           ‚îÇ ‚îÇ
‚îÇ  ‚îÇ     ‚îî‚îÄ‚îÄ middleware/                                        ‚îÇ ‚îÇ
‚îÇ  ‚îÇ         ‚îú‚îÄ‚îÄ hmac-verify.js      # HMAC Í≤ÄÏ¶ù               ‚îÇ ‚îÇ
‚îÇ  ‚îÇ         ‚îî‚îÄ‚îÄ rate-limit.js       # Rate Limiting           ‚îÇ ‚îÇ
‚îÇ  ‚îÇ                                                            ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ                ‚îÇ                ‚îÇ          ‚îÇ
           ‚ñº                ‚ñº                ‚ñº          ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                          Îç∞Ïù¥ÌÑ∞ Î†àÏù¥Ïñ¥                            ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê          ‚îÇ
‚îÇ  ‚îÇ PostgreSQL   ‚îÇ  ‚îÇ   Neo4j      ‚îÇ  ‚îÇ    Redis     ‚îÇ          ‚îÇ
‚îÇ  ‚îÇ   (15+)      ‚îÇ  ‚îÇ   (5+)       ‚îÇ  ‚îÇ    (7+)      ‚îÇ          ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§          ‚îÇ
‚îÇ  ‚îÇ ‚Ä¢ Cells      ‚îÇ  ‚îÇ ‚Ä¢ Customers  ‚îÇ  ‚îÇ ‚Ä¢ Sessions   ‚îÇ          ‚îÇ
‚îÇ  ‚îÇ ‚Ä¢ Revenues   ‚îÇ  ‚îÇ ‚Ä¢ Products   ‚îÇ  ‚îÇ ‚Ä¢ Tokens     ‚îÇ          ‚îÇ
‚îÇ  ‚îÇ ‚Ä¢ Expenses   ‚îÇ  ‚îÇ ‚Ä¢ Purchases  ‚îÇ  ‚îÇ ‚Ä¢ Rate Limit ‚îÇ          ‚îÇ
‚îÇ  ‚îÇ ‚Ä¢ Reports    ‚îÇ  ‚îÇ ‚Ä¢ Relationships‚îÇ ‚îÇ ‚Ä¢ Idempotency‚îÇ         ‚îÇ
‚îÇ  ‚îÇ ‚Ä¢ Leads      ‚îÇ  ‚îÇ              ‚îÇ  ‚îÇ              ‚îÇ          ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò          ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ                ‚îÇ                ‚îÇ          ‚îÇ
           ‚ñº                ‚ñº                ‚ñº          ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                       Ïô∏Î∂Ä ÏÑúÎπÑÏä§ Î†àÏù¥Ïñ¥                          ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ Salesforce ‚îÇ  ‚îÇ    Odoo    ‚îÇ  ‚îÇ  Shopify   ‚îÇ  ‚îÇ  Resend  ‚îÇ ‚îÇ
‚îÇ  ‚îÇ    CRM     ‚îÇ  ‚îÇ    ERP     ‚îÇ  ‚îÇ  Commerce  ‚îÇ  ‚îÇ   Email  ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ   Claude   ‚îÇ  ‚îÇ   Gemini   ‚îÇ  ‚îÇ   Sora 2   ‚îÇ  ‚îÇ  Helios  ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  Sonnet 4.5‚îÇ  ‚îÇ   2.0 Flash‚îÇ  ‚îÇ   Video    ‚îÇ  ‚îÇ   Model  ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## ÏÑúÎπÑÏä§Î≥Ñ ÏÉÅÏÑ∏ ÏÑ§Í≥Ñ

### 1. Independent Accounting System (ÎèÖÎ¶ΩÏ±ÑÏÇ∞Ï†ú)

#### ÏÑúÎπÑÏä§ Í∞úÏöî
- **Ìè¨Ìä∏**: 8003
- **ÌîÑÎ†àÏûÑÏõåÌÅ¨**: FastAPI 0.104+
- **Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§**: PostgreSQL
- **Ïô∏Î∂Ä Ïó∞Îèô**: Salesforce (Îß§Ï∂ú), Odoo (ÏõêÍ∞Ä), Resend (Ïù¥Î©îÏùº)

#### ÌïµÏã¨ Í∏∞Îä•

##### 1.1 Cell Í¥ÄÎ¶¨
```python
# models/cell_models.py
class Cell(Base):
    cell_id: UUID          # ÏÖÄ Í≥†Ïú† ID
    cell_type: CellType    # domestic, global, new_market, product, marketing, sales
    cell_name: str         # ÏÖÄ Ïù¥Î¶Ñ
    manager: str           # Îã¥ÎãπÏûê
    monthly_target: int    # ÏõîÍ∞Ñ Î™©Ìëú (KRW)
    created_at: datetime
```

##### 1.2 Îß§Ï∂ú Ï∂îÏ†Å
```python
# models/cell_models.py
class Revenue(Base):
    revenue_id: UUID
    cell_id: UUID          # FK ‚Üí Cell
    source: str            # salesforce, odoo
    amount_krw: int        # Îß§Ï∂úÏï° (KRW)
    revenue_date: date
    opportunity_id: str    # Salesforce Opportunity ID
    description: str
```

##### 1.3 ÎπÑÏö© Ï∂îÏ†Å
```python
# models/cell_models.py
class Expense(Base):
    expense_id: UUID
    cell_id: UUID          # FK ‚Üí Cell
    category: ExpenseCategory  # cogs, marketing, rd, operations
    amount_krw: int        # ÎπÑÏö©Ïï° (KRW)
    expense_date: date
    vendor: str
    description: str
```

##### 1.4 ÏùºÍ∞Ñ Î¶¨Ìè¨Ìä∏
```python
# services/report_generator.py
class ReportGenerator:
    def generate_daily_report(cell_id: UUID, report_date: date) -> HTML:
        # 1. SalesforceÏóêÏÑú Îß§Ï∂ú Ï°∞Ìöå
        revenues = salesforce_service.get_closed_won_opportunities(cell_id, date)

        # 2. OdooÏóêÏÑú ÏõêÍ∞Ä Ï°∞Ìöå
        expenses = odoo_service.get_expenses(cell_id, date)

        # 3. Gross Profit Í≥ÑÏÇ∞
        gross_profit = sum(revenues) - sum(expenses)
        gross_margin = (gross_profit / sum(revenues)) * 100

        # 4. MTD (Month-To-Date) Í≥ÑÏÇ∞
        mtd_revenues = get_mtd_revenues(cell_id, date)
        mtd_expenses = get_mtd_expenses(cell_id, date)

        # 5. Î™©Ìëú ÎåÄÎπÑ Îã¨ÏÑ±Î•†
        target = cell.monthly_target
        achievement_rate = (mtd_revenues / target) * 100

        # 6. HTML Î¶¨Ìè¨Ìä∏ ÏÉùÏÑ±
        return render_html_report(data)
```

#### API ÏóîÎìúÌè¨Ïù∏Ìä∏

| Î©îÏÑúÎìú | ÏóîÎìúÌè¨Ïù∏Ìä∏ | ÏÑ§Î™Ö |
|--------|-----------|------|
| POST | `/api/v1/revenues` | Îß§Ï∂ú Í∏∞Î°ù ÏÉùÏÑ± |
| GET | `/api/v1/revenues/cell/{cell_id}` | ÏÖÄÎ≥Ñ Îß§Ï∂ú Ï°∞Ìöå |
| POST | `/api/v1/expenses` | ÎπÑÏö© Í∏∞Î°ù ÏÉùÏÑ± |
| GET | `/api/v1/expenses/cell/{cell_id}` | ÏÖÄÎ≥Ñ ÎπÑÏö© Ï°∞Ìöå |
| GET | `/api/v1/reports/daily/cell-{cell_id}` | ÏùºÍ∞Ñ Î¶¨Ìè¨Ìä∏ Ï°∞Ìöå |
| POST | `/api/v1/reports/daily/cell-{cell_id}/send` | ÏùºÍ∞Ñ Î¶¨Ìè¨Ìä∏ Ïù¥Î©îÏùº Î∞úÏÜ° |
| GET | `/api/v1/cells` | Î™®Îì† ÏÖÄ Ï°∞Ìöå |

#### ÏûêÎèôÌôî ÏõåÌÅ¨ÌîåÎ°úÏö∞

```yaml
# .github/workflows/daily-report.yml
name: Daily Report Automation

on:
  schedule:
    - cron: '0 21 * * *'  # UTC 21:00 = KST 06:00
  workflow_dispatch:

jobs:
  send-daily-reports:
    runs-on: ubuntu-latest
    steps:
      - name: Send Financial Daily Reports
        run: |
          REPORT_DATE=$(date -d "yesterday" +%Y-%m-%d)
          curl -X POST "https://nerdx-apec-mvp-production.up.railway.app/api/v1/reports/daily/cell-5ca00d505e2b/send?report_date=$REPORT_DATE"

      - name: Send Lead Daily Report
        run: |
          curl -X POST "https://warm-lead-generation-production.up.railway.app/api/v1/lead-report/send?email=sean@koreafnbpartners.com"
```

---

### 2. Warm Lead Generation (ÏõúÎ¶¨Îìú Î∞úÍµ¥)

#### ÏÑúÎπÑÏä§ Í∞úÏöî
- **Ìè¨Ìä∏**: 8004
- **ÌîÑÎ†àÏûÑÏõåÌÅ¨**: FastAPI 0.104+
- **ÏïåÍ≥†Î¶¨Ï¶ò**: NBRS (NERD Brand Resonance Score)
- **Ïô∏Î∂Ä Ïó∞Îèô**: Salesforce (Lead Í¥ÄÎ¶¨), Helios (Îç∞Ïù¥ÌÑ∞ enrichment)

#### NBRS Í≥ÑÏÇ∞ ÏïåÍ≥†Î¶¨Ï¶ò

```python
# services/nbrs_engine.py
class NBRSEngine:
    # Weight Distribution
    WEIGHT_BRAND_AFFINITY = 0.40      # 40%
    WEIGHT_MARKET_POSITIONING = 0.35  # 35%
    WEIGHT_DIGITAL_PRESENCE = 0.25    # 25%

    def calculate_nbrs(lead_data: dict) -> NBRSResult:
        # Pillar 1: Brand Affinity (40%)
        brand_affinity = calculate_brand_affinity(
            past_interaction_score=lead_data.get('past_interaction', 0),
            email_engagement_score=lead_data.get('email_engagement', 0),
            meeting_history_score=lead_data.get('meeting_history', 0),
            relationship_duration_score=lead_data.get('relationship_duration', 0),
            nps_score=lead_data.get('nps', 0)
        )

        # Pillar 2: Market Positioning (35%)
        market_positioning = calculate_market_positioning(
            annual_revenue_krw=lead_data.get('revenue', 0),
            employee_count=lead_data.get('employees', 0),
            marketing_budget_krw=lead_data.get('budget', 0),
            target_industry_match=lead_data.get('industry_match', False),
            pain_point_alignment=lead_data.get('pain_point_score', 0)
        )

        # Pillar 3: Digital Presence (25%)
        digital_presence = calculate_digital_presence(
            website_traffic_monthly=lead_data.get('traffic', 0),
            social_media_followers=lead_data.get('followers', 0),
            content_engagement_score=lead_data.get('engagement', 0),
            modern_website=lead_data.get('modern_site', False),
            marketing_automation=lead_data.get('has_automation', False)
        )

        # Final NBRS Score (0-100)
        nbrs_score = (
            brand_affinity * WEIGHT_BRAND_AFFINITY +
            market_positioning * WEIGHT_MARKET_POSITIONING +
            digital_presence * WEIGHT_DIGITAL_PRESENCE
        )

        # Tier Classification
        tier = classify_tier(nbrs_score)
        # TIER1: 80-100, TIER2: 60-79, TIER3: 40-59, TIER4: 0-39

        return NBRSResult(
            lead_id=lead_data['id'],
            nbrs_score=nbrs_score,
            tier=tier,
            brand_affinity_score=brand_affinity,
            market_positioning_score=market_positioning,
            digital_presence_score=digital_presence
        )
```

#### Salesforce ÌÜµÌï©

```python
# integrations/salesforce_client.py
class SalesforceClient:
    def update_lead_with_nbrs(lead_id: str, nbrs_result: NBRSResult):
        # Update Lead fields
        sf.Lead.update(lead_id, {
            'NBRS_Score__c': nbrs_result.nbrs_score,
            'NBRS_Tier__c': nbrs_result.tier,
            'Brand_Affinity_Score__c': nbrs_result.brand_affinity_score,
            'Market_Positioning_Score__c': nbrs_result.market_positioning_score,
            'Digital_Presence_Score__c': nbrs_result.digital_presence_score,
            'Priority_Rank__c': nbrs_result.priority_rank,
            'Next_Action__c': nbrs_result.next_action
        })

        # Publish Platform Event
        sf.NBRS_Update__e.insert({
            'Lead_Id__c': lead_id,
            'NBRS_Score__c': nbrs_result.nbrs_score,
            'Tier__c': nbrs_result.tier
        })
```

#### API ÏóîÎìúÌè¨Ïù∏Ìä∏

| Î©îÏÑúÎìú | ÏóîÎìúÌè¨Ïù∏Ìä∏ | ÏÑ§Î™Ö |
|--------|-----------|------|
| POST | `/api/v1/lead-scoring/calculate` | NBRS Ï†êÏàò Í≥ÑÏÇ∞ |
| POST | `/api/v1/lead-scoring/enrich-and-score` | Helios enrichment + NBRS Í≥ÑÏÇ∞ |
| POST | `/api/v1/lead-scoring/batch-score` | Î∞∞Ïπò Ïä§ÏΩîÏñ¥ÎßÅ |
| GET | `/api/v1/lead-scoring/top-leads` | ÏÉÅÏúÑ 10% Lead Ï°∞Ìöå |
| GET | `/api/v1/lead-scoring/by-tier/{tier}` | TIERÎ≥Ñ Lead Ï°∞Ìöå |
| GET | `/api/v1/lead-scoring/stats` | Ïä§ÏΩîÏñ¥ÎßÅ ÌÜµÍ≥Ñ |
| POST | `/api/v1/lead-report/send` | Lead Î¶¨Ìè¨Ìä∏ Ïù¥Î©îÏùº Î∞úÏÜ° |

---

### 3. Agentic AI System

#### ÏÑúÎπÑÏä§ Í∞úÏöî
- **Ìè¨Ìä∏**: 8002
- **ÌîÑÎ†àÏûÑÏõåÌÅ¨**: FastAPI 0.104+
- **AI Î™®Îç∏**: Claude Sonnet 4.5, Gemini 2.0 Flash, Sora 2
- **Ïö©ÎèÑ**: ÏûêÎèô ÏΩîÎìú ÏÉùÏÑ±, PRD ÏûëÏÑ±, ÎπÑÎîîÏò§ ÏΩòÌÖêÏ∏† ÏÉùÏÑ±

#### ÏóêÏù¥Ï†ÑÌä∏ Íµ¨Ï°∞

```python
# services/agents/base_agent.py
class BaseAgent(ABC):
    def __init__(self, agent_id: str, agent_type: str):
        self.agent_id = agent_id
        self.agent_type = agent_type
        self.confidence = 0.0

    @abstractmethod
    async def execute_task(self, task: Task) -> AgentResult:
        pass

# services/agents/prd_agent.py (Gemini)
class PRDAgent(BaseAgent):
    async def execute_task(self, task: Task) -> AgentResult:
        prompt = f"""
        Generate a PRD for: {task.title}
        Description: {task.description}
        """
        response = await gemini_service.generate(prompt)
        return AgentResult(content=response, confidence=0.85)

# services/agents/code_agent.py (Claude)
class CodeAgent(BaseAgent):
    async def execute_task(self, task: Task) -> AgentResult:
        prompt = f"""
        Implement this feature: {task.prd}
        Stack: {task.tech_stack}
        """
        response = await claude_service.generate(prompt)
        return AgentResult(content=response, confidence=0.90)

# services/agents/qa_agent.py (Multi-agent)
class QAAgent(BaseAgent):
    async def execute_task(self, task: Task) -> AgentResult:
        # 3Í∞ÄÏßÄ AI Î™®Îç∏Î°ú ÏΩîÎìú Î¶¨Î∑∞
        claude_review = await claude_service.review(task.code)
        gemini_review = await gemini_service.review(task.code)
        gpt4_review = await openai_service.review(task.code)

        # Í≤∞Í≥º ÌÜµÌï©
        consensus = merge_reviews([claude_review, gemini_review, gpt4_review])
        return AgentResult(content=consensus, confidence=0.88)
```

#### AutoDev Workflow

```python
# services/agents/autodev_orchestrator.py
class AutoDevOrchestrator:
    async def feature_development_workflow(issue: GitHubIssue) -> PullRequest:
        # Step 1: PRD ÏÉùÏÑ± (Gemini)
        prd = await prd_agent.execute_task(Task(
            title=issue.title,
            description=issue.body
        ))

        # Step 2: ÏΩîÎìú ÏÉùÏÑ± (Claude)
        code = await code_agent.execute_task(Task(
            prd=prd.content,
            tech_stack="Python, FastAPI"
        ))

        # Step 3: ÏΩîÎìú Î¶¨Î∑∞ (Multi-agent)
        review = await qa_agent.execute_task(Task(
            code=code.content
        ))

        # Step 4: PR ÏÉùÏÑ±
        pr = await github_service.create_pull_request(
            title=f"feat: {issue.title}",
            body=f"## PRD\n{prd.content}\n\n## Code Review\n{review.content}",
            code=code.content
        )

        return pr
```

---

### 4. Shopify Custom App

#### ÏÑúÎπÑÏä§ Í∞úÏöî
- **Ìè¨Ìä∏**: 3001
- **ÌîÑÎ†àÏûÑÏõåÌÅ¨**: Express.js (Node.js)
- **Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§**: Neo4j (Í∑∏ÎûòÌîÑ DB), Redis (Ï∫êÏãú)
- **Ïô∏Î∂Ä Ïó∞Îèô**: Shopify (Ï£ºÎ¨∏, Ï†úÌíà)

#### Ï£ºÎ¨∏ Ï≤òÎ¶¨ ÏõåÌÅ¨ÌîåÎ°úÏö∞

```javascript
// routes/webhooks.js
app.post('/webhooks/orders/create', async (req, res) => {
    // 1. HMAC Í≤ÄÏ¶ù
    const isValid = verifyShopifyHMAC(req.headers, req.body);
    if (!isValid) {
        return res.status(401).send('Unauthorized');
    }

    // 2. Î©±Îì±ÏÑ± Ï≤¥ÌÅ¨ (Redis)
    const orderId = req.body.id;
    const isProcessed = await redis.get(`order:${orderId}`);
    if (isProcessed) {
        return res.status(200).send('Already processed');
    }

    // 3. Neo4jÏóê Í¥ÄÍ≥Ñ Ï†ÄÏû•
    await neo4j.run(`
        MATCH (c:Customer {email: $email})
        MATCH (p:Product {id: $productId})
        CREATE (c)-[:PURCHASED {
            orderId: $orderId,
            purchaseDate: datetime(),
            amount: $amount
        }]->(p)
    `, {
        email: req.body.customer.email,
        productId: req.body.line_items[0].product_id,
        orderId: orderId,
        amount: req.body.total_price
    });

    // 4. JWT ÌÜ†ÌÅ∞ ÏÉùÏÑ± (90Ïùº Ïú†Ìö®)
    const token = jwt.sign(
        { customerId: req.body.customer.id, productId: req.body.line_items[0].product_id },
        process.env.JWT_SECRET,
        { expiresIn: '90d' }
    );

    // 5. AR Ïï°ÏÑ∏Ïä§ Ïù¥Î©îÏùº Î∞úÏÜ°
    await sendARAccessEmail(req.body.customer.email, token);

    // 6. RedisÏóê Ï≤òÎ¶¨ ÏôÑÎ£å ÌëúÏãú
    await redis.setex(`order:${orderId}`, 86400, 'processed');

    res.status(200).send('OK');
});
```

#### AR ÏΩòÌÖêÏ∏† Ïï°ÏÑ∏Ïä§

```javascript
// routes/ar-access.js
app.get('/ar/:productId', async (req, res) => {
    // 1. JWT Í≤ÄÏ¶ù
    const token = req.query.token;
    try {
        const decoded = jwt.verify(token, process.env.JWT_SECRET);
    } catch (err) {
        return res.status(401).send('Invalid or expired token');
    }

    // 2. Neo4jÏóêÏÑú Íµ¨Îß§ Í¥ÄÍ≥Ñ ÌôïÏù∏
    const result = await neo4j.run(`
        MATCH (c:Customer {id: $customerId})-[:PURCHASED]->(p:Product {id: $productId})
        RETURN p
    `, {
        customerId: decoded.customerId,
        productId: req.params.productId
    });

    if (result.records.length === 0) {
        return res.status(403).send('Not purchased');
    }

    // 3. AR ÏΩòÌÖêÏ∏† Ï†úÍ≥µ
    res.render('ar-viewer', {
        productId: req.params.productId,
        modelUrl: `/models/${req.params.productId}.glb`
    });
});
```

---

## Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ ÏÑ§Í≥Ñ

### PostgreSQL Ïä§ÌÇ§Îßà

#### Accounting System

```sql
-- Cells Table
CREATE TABLE cells (
    cell_id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    cell_type VARCHAR(20) NOT NULL CHECK (cell_type IN ('domestic', 'global', 'new_market', 'product', 'marketing', 'sales')),
    cell_name VARCHAR(100) NOT NULL,
    manager VARCHAR(100),
    monthly_target BIGINT DEFAULT 0,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Revenues Table
CREATE TABLE revenues (
    revenue_id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    cell_id UUID NOT NULL REFERENCES cells(cell_id),
    source VARCHAR(50) NOT NULL,
    amount_krw BIGINT NOT NULL,
    revenue_date DATE NOT NULL,
    opportunity_id VARCHAR(100),
    description TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_cell_date (cell_id, revenue_date)
);

-- Expenses Table
CREATE TABLE expenses (
    expense_id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    cell_id UUID NOT NULL REFERENCES cells(cell_id),
    category VARCHAR(50) NOT NULL CHECK (category IN ('cogs', 'marketing', 'rd', 'operations', 'overhead')),
    amount_krw BIGINT NOT NULL,
    expense_date DATE NOT NULL,
    vendor VARCHAR(200),
    description TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_cell_date (cell_id, expense_date)
);

-- Daily Reports Table
CREATE TABLE daily_reports (
    report_id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    cell_id UUID NOT NULL REFERENCES cells(cell_id),
    report_date DATE NOT NULL,
    total_revenue BIGINT NOT NULL,
    total_expense BIGINT NOT NULL,
    gross_profit BIGINT NOT NULL,
    gross_margin DECIMAL(5,2),
    mtd_revenue BIGINT,
    mtd_expense BIGINT,
    mtd_gross_profit BIGINT,
    target_achievement_rate DECIMAL(5,2),
    html_content TEXT,
    sent_at TIMESTAMP,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UNIQUE (cell_id, report_date)
);
```

### Neo4j Í∑∏ÎûòÌîÑ Ïä§ÌÇ§Îßà

```cypher
// Node Types
(:Customer {
    id: String,
    email: String,
    firstName: String,
    lastName: String,
    createdAt: DateTime
})

(:Product {
    id: String,
    title: String,
    handle: String,
    hasAR: Boolean,
    arModelUrl: String
})

(:Order {
    id: String,
    orderNumber: String,
    totalPrice: Float,
    createdAt: DateTime
})

// Relationships
(:Customer)-[:PURCHASED {
    orderId: String,
    purchaseDate: DateTime,
    amount: Float,
    arAccessToken: String,
    tokenExpiresAt: DateTime
}]->(:Product)

(:Customer)-[:PLACED]->(:Order)
(:Order)-[:CONTAINS]->(:Product)
```

---

## API Î™ÖÏÑ∏

### OpenAPI Î¨∏ÏÑú ÏúÑÏπò
- Independent Accounting: http://localhost:8003/docs
- Warm Lead Generation: http://localhost:8004/docs
- Agentic AI System: http://localhost:8002/docs

### Ï£ºÏöî API ÏòàÏãú

#### 1. Daily Report API

**Request:**
```http
POST /api/v1/reports/daily/cell-5ca00d505e2b/send?report_date=2025-10-26
Content-Type: application/json
```

**Response:**
```json
{
  "message": "Report sent successfully",
  "cell_id": "5ca00d505e2b",
  "report_date": "2025-10-26",
  "recipient": "sean@koreafnbpartners.com",
  "metrics": {
    "total_revenue": 15000000,
    "total_expense": 8000000,
    "gross_profit": 7000000,
    "gross_margin": 46.67
  }
}
```

#### 2. NBRS Calculation API

**Request:**
```http
POST /api/v1/lead-scoring/calculate
Content-Type: application/json

{
  "lead_id": "00Q1234567890AB",
  "company_name": "NERDHOUSE BUKCHON",
  "brand_affinity": {
    "past_interaction_score": 100,
    "email_engagement_score": 80,
    "meeting_history_score": 90
  },
  "market_positioning": {
    "annual_revenue_krw": 50000000000,
    "employee_count": 250,
    "marketing_budget_krw": 500000000
  },
  "digital_presence": {
    "website_traffic_monthly": 50000,
    "social_media_followers": 10000
  }
}
```

**Response:**
```json
{
  "lead_id": "00Q1234567890AB",
  "company_name": "NERDHOUSE BUKCHON",
  "nbrs_score": 95.83,
  "tier": "TIER1",
  "brand_affinity_score": 100.0,
  "market_positioning_score": 88.4,
  "digital_presence_score": 99.5,
  "next_action": "Immediate sales engagement - Top priority",
  "priority_rank": 1,
  "calculated_at": "2025-10-26T18:50:29Z"
}
```

---

## Î∞∞Ìè¨ ÏïÑÌÇ§ÌÖçÏ≤ò

### Railway Î∞∞Ìè¨ Íµ¨ÏÑ±

```yaml
# Production Services on Railway
services:
  - name: nerdx-accounting-system
    port: 8003
    plan: Hobby
    region: asia-southeast1
    environment:
      - DATABASE_URL: ${{ Railway.PostgreSQL }}
      - SALESFORCE_INSTANCE_URL: ${{ secrets.SF_URL }}
      - ODOO_URL: ${{ secrets.ODOO_URL }}
      - RESEND_API_KEY: ${{ secrets.RESEND_KEY }}

  - name: warm-lead-generation
    port: 8004
    plan: Hobby
    region: asia-southeast1
    root_directory: warm-lead-generation
    environment:
      - DATABASE_URL: ${{ Railway.PostgreSQL }}
      - SALESFORCE_CONSUMER_KEY: ${{ secrets.SF_KEY }}
      - SALESFORCE_CONSUMER_SECRET: ${{ secrets.SF_SECRET }}
      - RESEND_API_KEY: ${{ secrets.RESEND_KEY }}

  - name: phase2-agentic-system
    port: 8002
    plan: Hobby
    region: asia-southeast1
    environment:
      - ANTHROPIC_API_KEY: ${{ secrets.CLAUDE_KEY }}
      - GEMINI_API_KEY: ${{ secrets.GEMINI_KEY }}
      - OPENAI_API_KEY: ${{ secrets.OPENAI_KEY }}
      - REDIS_URL: ${{ Railway.Redis }}

  - name: shopify-custom-app
    port: 3001
    plan: Hobby
    region: asia-southeast1
    environment:
      - NEO4J_URI: ${{ secrets.NEO4J_URI }}
      - REDIS_URL: ${{ Railway.Redis }}
      - JWT_SECRET: ${{ secrets.JWT_SECRET }}
      - SHOPIFY_WEBHOOK_SECRET: ${{ secrets.SHOPIFY_SECRET }}
```

### Vercel Î∞∞Ìè¨ (Frontend)

```json
// vercel.json
{
  "framework": "nextjs",
  "buildCommand": "npm run build",
  "devCommand": "npm run dev",
  "installCommand": "npm install",
  "env": {
    "NEXT_PUBLIC_SHOPIFY_DOMAIN": "@shopify_domain",
    "NEXT_PUBLIC_SHOPIFY_STOREFRONT_TOKEN": "@shopify_token",
    "NEXT_PUBLIC_SHOPIFY_APP_URL": "https://nerdx-shopify-app.railway.app"
  }
}
```

---

## Î≥¥Ïïà ÏÑ§Í≥Ñ

### Ïù∏Ï¶ù & Í∂åÌïú

#### 1. JWT ÌÜ†ÌÅ∞ (AR Ïï°ÏÑ∏Ïä§)
```javascript
// Î∞úÍ∏â
const token = jwt.sign(
    { customerId, productId },
    process.env.JWT_SECRET,
    { expiresIn: '90d', algorithm: 'HS256' }
);

// Í≤ÄÏ¶ù
const decoded = jwt.verify(token, process.env.JWT_SECRET);
```

#### 2. OAuth2 (Salesforce)
```python
# Password Grant Flow
token_response = requests.post(
    "https://login.salesforce.com/services/oauth2/token",
    data={
        "grant_type": "password",
        "client_id": os.getenv("SALESFORCE_CONSUMER_KEY"),
        "client_secret": os.getenv("SALESFORCE_CONSUMER_SECRET"),
        "username": os.getenv("SALESFORCE_USERNAME"),
        "password": f"{password}{security_token}"
    }
)
access_token = token_response.json()["access_token"]
```

#### 3. HMAC (Shopify Webhook)
```javascript
function verifyShopifyHMAC(headers, body) {
    const hmac = headers['x-shopify-hmac-sha256'];
    const hash = crypto
        .createHmac('sha256', process.env.SHOPIFY_WEBHOOK_SECRET)
        .update(body, 'utf8')
        .digest('base64');
    return crypto.timingSafeEqual(
        Buffer.from(hmac),
        Buffer.from(hash)
    );
}
```

### Rate Limiting

```python
# FastAPI Rate Limiting (Redis)
from slowapi import Limiter
from slowapi.util import get_remote_address

limiter = Limiter(key_func=get_remote_address)

@app.post("/api/v1/lead-scoring/calculate")
@limiter.limit("100/minute")
async def calculate_nbrs(request: Request, data: CalculateRequest):
    ...
```

---

## ÏÑ±Îä• ÏµúÏ†ÅÌôî

### 1. Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ Ïù∏Îç±Ïã±

```sql
-- Accounting System
CREATE INDEX idx_revenues_cell_date ON revenues(cell_id, revenue_date);
CREATE INDEX idx_expenses_cell_date ON expenses(cell_id, expense_date);
CREATE INDEX idx_reports_cell_date ON daily_reports(cell_id, report_date);

-- Composite Index for MTD queries
CREATE INDEX idx_revenues_cell_month ON revenues(cell_id, EXTRACT(YEAR FROM revenue_date), EXTRACT(MONTH FROM revenue_date));
```

### 2. Redis Ï∫êÏã±

```python
# Lead Scoring Cache
@redis_cache(expire=3600)  # 1 hour
async def get_lead_scores(cell_id: str) -> List[NBRSResult]:
    return await db.query(Lead).filter(Lead.cell_id == cell_id).all()

# Shopify Order Cache
@redis_cache(expire=300)  # 5 minutes
async def get_order(order_id: str) -> Order:
    return await shopify.get_order(order_id)
```

### 3. ÎπÑÎèôÍ∏∞ Ï≤òÎ¶¨

```python
# FastAPI Async Endpoints
@app.post("/api/v1/lead-scoring/batch-score")
async def batch_score_leads(lead_ids: List[str]):
    # Î≥ëÎ†¨ Ï≤òÎ¶¨
    tasks = [calculate_nbrs_async(lead_id) for lead_id in lead_ids]
    results = await asyncio.gather(*tasks)
    return results
```

---

## Î™®ÎãàÌÑ∞ÎßÅ & Î°úÍπÖ

### Structured Logging

```python
import logging
import json

logger = logging.getLogger(__name__)

# Structured Log Format
logger.info(json.dumps({
    "timestamp": datetime.now().isoformat(),
    "service": "accounting-system",
    "level": "INFO",
    "event": "report_generated",
    "cell_id": cell_id,
    "report_date": report_date,
    "metrics": {
        "revenue": total_revenue,
        "expense": total_expense,
        "gross_profit": gross_profit
    }
}))
```

### Health Checks

```python
@app.get("/health")
async def health_check():
    return {
        "status": "healthy",
        "service": "accounting-system",
        "version": "1.0.0",
        "timestamp": datetime.now().isoformat(),
        "checks": {
            "database": await check_database(),
            "salesforce": await check_salesforce(),
            "odoo": await check_odoo()
        }
    }
```

---

## Î∂ÄÎ°ù

### ÌôòÍ≤Ω Î≥ÄÏàò Î™©Î°ù

#### Independent Accounting System
```env
# API
API_HOST=0.0.0.0
API_PORT=8003
API_ENVIRONMENT=production

# Database
DATABASE_URL=postgresql://...

# Salesforce
SALESFORCE_INSTANCE_URL=https://...
SALESFORCE_USERNAME=...
SALESFORCE_PASSWORD=...
SALESFORCE_SECURITY_TOKEN=...
SALESFORCE_CONSUMER_KEY=...
SALESFORCE_CONSUMER_SECRET=...

# Odoo
ODOO_URL=https://...
ODOO_DB=...
ODOO_USERNAME=...
ODOO_PASSWORD=...

# Email
RESEND_API_KEY=re_...
SMTP_FROM_EMAIL=reports@nerdx.com
```

#### Warm Lead Generation
```env
# API
API_HOST=0.0.0.0
API_PORT=8004

# Salesforce
SALESFORCE_CONSUMER_KEY=...
SALESFORCE_CONSUMER_SECRET=...
SALESFORCE_USERNAME=...
SALESFORCE_PASSWORD=...
SALESFORCE_SECURITY_TOKEN=...
SALESFORCE_INSTANCE_URL=...

# Email
RESEND_API_KEY=re_...
SMTP_FROM_EMAIL=leads@nerdx.com

# NBRS Thresholds
NBRS_THRESHOLD_TIER1=80.0
NBRS_THRESHOLD_TIER2=60.0
NBRS_THRESHOLD_TIER3=40.0
```

---

**ÏûëÏÑ±Ïûê**: Claude Code
**ÎÇ†Ïßú**: 2025-10-27
**Î≤ÑÏ†Ñ**: 1.0
**Î¨∏ÏÑú Ïú†Ìòï**: ÏÉÅÏÑ∏ ÏÑ§Í≥ÑÏÑú
